<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>拖拽</title>
    <style>
        #box{
            width:100px;
            height:100px;
            background-color: #a0b3d6;
            position: absolute;
            /*top:100px;*/
            /*left:100px;*/
        }
    </style>
</head>
<body>
    <div id="box" style="top:100px;left:100px;">
    </div>
    <script>
        //startLeft,startTop 记录元素拖动前的的left和top
        //startMouseX，startMouseY记录元素拖动时鼠标的left和top
        let style={
            startLeft:0,
            startTop:0,
            startMouseX:0,
            startMouseY:0,
            isMove:false
        };
        function startDrag() {
            let box=document.getElementById("box");
            box.addEventListener('mousedown',function (ev) {

                style.isMove=true;
                style.startMouseX=ev.clientX;
                style.startMouseY=ev.clientY;

                style.startTop=this.style.top;
                style.startLeft=this.style.left;

            });
            box.addEventListener('mouseup',function () {
                style.isMove=false;

            });
            document.addEventListener('mousemove',function (ev) {

               if(style.isMove)
               {
                    let box=document.getElementById("box");
                    //通过计算鼠标的移动距离，加到元素上
                    let disX=ev.clientX-style.startMouseX;
                    let disY=ev.clientY-style.startMouseY;

                    box.style.top=parseInt(style.startTop)+disY+'px';
                    box.style.left=parseInt(style.startLeft)+disX+'px';
               }
            })
        }

        window.onload=function () {
            startDrag();
        }
    </script>
</body>
</html>